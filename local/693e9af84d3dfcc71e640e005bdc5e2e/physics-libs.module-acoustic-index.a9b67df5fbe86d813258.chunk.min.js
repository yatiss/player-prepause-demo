/*!
 * Copyright (c) 2017 Nobook inc.
 * 
 * (TBD)
 * 
 * Version: 0.5.92
 * Date: Sat Mar 30 2019 10:13:19 GMT+0800 (中国标准时间)
 */
webpackJsonpPhysicsCanvas([9],{421:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(452),r=(o(i),n(748)),a=o(r);a["default"].classList={AlarmClock:o(n(749))["default"],VacuumglassGap:o(n(762))["default"],Vacuumglass:o(n(761))["default"],TuningFork:o(n(760))["default"],Hammer:o(n(754))["default"],Sink:o(n(757))["default"],SinkBack:o(n(758))["default"],Pingpang:o(n(756))["default"],WoodenTable:o(n(764))["default"],WaterBottle:o(n(763))["default"],Flute:o(n(752))["default"],Piano:o(n(755))["default"],Drum:o(n(751))["default"],Candle:o(n(750))["default"],Glass:o(n(753))["default"],SoundWaveView:o(n(759))["default"]},e["default"]=a["default"]},452:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=(n(0),n(100)),u=function(t){return t&&t.__esModule?t:{"default":t}}(a);e["default"]=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return r(e,t),e}(u["default"])},748:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(68),l=n(215),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.moduleType=3,n}return r(e,t),a(e,[{key:"init",value:function(){return this.hasInit?Promise.resolve():(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"init",this).call(this),Promise.resolve())}}],[{key:"MODULE_TYPE",get:function(){return s.Modules.ACOUSTIC}}]),e}(h["default"])},749:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.bindV=null,n.level=7,n.volume=1,n.maxVo=1,n}return r(e,t),a(e,[{key:"freshSound",value:function(t){this.volume=t===undefined?1:s.M.range(t,0,1),this.playSound(this.chui.playing?!0:!1)}},{key:"freshVolume",value:function(){this.freshSound()}},{key:"playSound",value:function(t){if(1===this.globalConfig.VOLUME&&t){if(this.sound||(this.sound=this.globalConfig.SoundTool.playT(this.SoundStr.LING,null,null,this,!0)),this.sound){var e=this.sound.next_instance||this.sound;e.volume=this.volume*this.maxVo}}else this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null)}},{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.ticker=new PIXI.ticker.Ticker,this.ticker.add(function(e){t._loop()}),this.ticker.start(),this.chui.animationSpeed=.5,this.chui.currentFrame=1,this._touchID=s.M.addTouch(this.chui,{tab:function(e){t.chui.playing?(t.chui.stop(),t.chui.currentFrame=1,t.freshSound()):(t.chui.play(),t.freshSound())}},this),this.addCursor(this.chui,"hand")}},{key:"_loop",value:function(){var t=new Date,e=t.getSeconds(),n=t.getMinutes(),o=t.getHours();this.miao.rotation=s.M.toHu(6*e),this.fen.rotation=s.M.toHu(6*n+e/10),this.shi.rotation=s.M.toHu(30*o+n/2)}},{key:"removed",value:function(){this.removedCursor(this.chui),this.playSound(!1),s.M.removeTouch(this.chui,this._touchID),this.chui&&(this.chui.stop(),this.chui=null),this.ticker&&(this.ticker.stop(),this.ticker=null),this.bindV&&(this.bindV.bindGap=null,this.main.removeEquipment(this.bindV)),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"beginEnd",value:function(t){this.bindV&&(this.bindV.bindAlarm=null,this.bindV=null)}},{key:"endEnd",value:function(t){if(this.bindV);else{var e=this.getChildByClassInRadius(this,"Vacuumglass",200,new s.Point(0,0)),n=!0,o=!1,i=undefined;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var u=r.value;if(!u.bindAlarm&&!u.bindGap){this.bindV=u,this.bindV.bindAlarm=this,this.freshBindLocation();break}}}catch(l){o=!0,i=l}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}}}},{key:"freshBindLocation",value:function(t){if(this.bindV){this.parent.parent.updateTransform();var e=this.parent.parent.toLocal(new s.Point(0,-150),this.bindV);s.M.setSPPoint(this.parent,e)}}},{key:"getSound",value:function(t){return this.sound}}]),e}(h["default"])},750:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return r(e,t),a(e,[{key:"update_fire",value:function(t){var e=this;if(!this.var_toCloseFire&&(this.yan.scale.y=this.yan.oriScaleY+.1*t,this.yan.scale.x=this.yan.oriScaleX-.1*t,this.yan.rotation=-.4*t,t>.5)){this.var_toCloseFire=!0;var n=this;this.yanchiID=setTimeout(function(){e.hadDestory||(n.yanchiID=null,n.yan.visible=!1,n=null)},150)}}},{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.var_toCloseFire=!1,this.yan.oriScaleX=this.yan.scale.x,this.yan.oriScaleY=this.yan.scale.y,this.yan.animationSpeed=.2,this.yan.play();var t=0;this.var_ticker=s.M.addTicker(function(){10>++t||(t=0)},this)}},{key:"removed",value:function(){this.yanchiID&&(clearTimeout(this.yanchiID),this.yanchiID=null),s.M.removeTicker(this.var_ticker),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getConf",value:function(){var t=this,n=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return n.confArr.push({type:this.ComponentProperty.BUTTON,name:this.language.getLocaleStr("lightCandle"),text:this.language.getLocaleStr("light"),"this":this,callBack:function(e){t.yan.scale.y=t.yan.oriScaleY,t.yan.scale.x=t.yan.oriScaleX,t.yan.rotation=0,t.var_toCloseFire=!1,t.yan.visible=!0}}),n}}]),e}(h["default"])},751:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return r(e,t),a(e,[{key:"soundStart",value:function(t,e){s.M.removeAllChild(this.fengBox),s.ArrayUtil.clear(this.spArr),this.ind=0,this.timeInd=0,this._isPlay=!0,this.upPower=e,this.timeAllInd=Math.max(4,50*this.upPower),this.playSound(!0)}},{key:"playSound",value:function(t){1===this.globalConfig.VOLUME&&t?(this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null),1===this.globalConfig.VOLUME&&(this.sound=this.globalConfig.SoundTool.play(this.SoundStr.DRUM))):this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null)}},{key:"fresh_dis_candle",value:function(t){var e=this.equipmentUtil.getEquipmentArr(["Candle"]),n=this.main.view.scale.x,o=500*n,i=this.toGlobalView(new s.Point(-123,0),this.dot),r=new s.Rectangle(i.x-o,i.y,o,this.dot.height*n);e.forEach(function(e){var n=e.toGlobalView(new s.Point,e.dot);if(r.contains(n.x,n.y)){var o=i.x-n.x;o=Math.max(0,o),e.update_fire(t*(1-o/500))}})}},{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.fengTexture=this.feng.getChildAt(0).texture,this.removeChild(this.feng),this.fengBox=new PIXI.Sprite,this.addChild(this.fengBox),this.ind=0,this.spArr=[],this._isPlay=!1,this.timeInd=0,this.ticker=s.M.addTicker(function(){if(++this.ind>4){if(this.ind=0,!this._isPlay){if(this.spArr.length>0){this.fengBox.removeChild(this.spArr.pop()),this.spArr.length>2||this.fresh_dis_candle(0)}return}var t=new PIXI.Sprite(this.fengTexture);t.scale.x=t.scale.y=2,this.fengBox.addChild(t),t.x=-120,t.y=-t.height/2,this.spArr.push(t),this.fresh_dis_candle(this.upPower)}if(++this.timeInd>this.timeAllInd)return this.timeInd=0,void(this._isPlay=!1);var e=void 0,n=this.spArr.length;for(e=0;n>e;e++){var o=this.spArr[e];o.x-=10,o.alpha-=.02,-600>o.x&&(this.spArr.splice(e,1),this.fengBox.removeChild(o),e--,n--)}},this)}},{key:"removed",value:function(){this.ticker.stop(),this.ticker=null,this.playSound(!1),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getSound",value:function(t){return this.sound}}]),e}(h["default"])},752:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){return o(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return r(e,t),a(e,[{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.alphaMC.alpha=0,this.touchID=s.M.addTouch(this,{tab:function(e){t.sound?(t.globalConfig.SoundTool.stopT(t.sound),t.sound=null):1===t.globalConfig.VOLUME&&(t.sound=t.globalConfig.SoundTool.play(t.SoundStr.FLUTE,0,null,null,t))}},this),this.addCursor(this,"hand")}},{key:"freshVolume",value:function(){0===this.globalConfig.VOLUME&&this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null)}},{key:"removed",value:function(){this.removedCursor(this),s.M.removeTouch(this,this.touchID),this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getSound",value:function(t){return this.sound}},{key:"selectRenderChild",value:function(){return this.updateTransform(),this.getBounds()}}]),e}(h["default"])},753:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.timeOutID=0,n}return r(e,t),a(e,[{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.mo.getMScale=function(){return t.main.view.scale},this._dragID=s.M.addDrag(this.mo,new s.Rectangle(-140,this.mo.y,280,0),{begin:function(e){t.cannotSystemDrag=!0},move:function(e){t._freshPlaySound()},end:function(e){t.cannotSystemDrag=!1}},this),this.addCursor(this.mo,"zuoyou")}},{key:"_freshPlaySound",value:function(){var t=this;clearTimeout(this.timeOutID),this.timeOutID=setTimeout(function(){t.hadDestory||(t.timeOutID=null,t.removeWave())},100),this.globalConfig.VOLUME&&!this.sound&&(this.sound=this.globalConfig.SoundTool.playT(this.SoundStr.GLASS,null,null,this,!0))}},{key:"removeWave",value:function(){this.globalConfig.SoundTool.stopT(this.sound),this.sound=null}},{key:"removed",value:function(){this.mo.getMScale=null,this.removedCursor(this.mo),s.M.removeDrag(this.mo,this._dragID),clearTimeout(this.timeOutID),this.timeOutID=null,this.removeWave(),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getSound",value:function(t){return this.sound}}]),e}(h["default"])},754:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(452),l=function(t){return t&&t.__esModule?t:{"default":t}}(s),h=n(0);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._rotate=0,n._ror=0,n._roi=-1,n.rovo=h.M.toHu(5),n.upPower=0,n._forkArr=null,n}return r(e,t),a(e,[{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this._touchID=h.M.addTouch(this.bg.mc.dot,{begin:function(t){this.cannotSystemDrag=!0},move:function(t){var e=h.M.getMouseXY(t);e=this.toLocal(e);var n=this.toLocal(new h.Point(0,0),this.bg),o=new h.Point(n.x,n.y-100);n.x>e.x&&(e.x=n.x),e.y>n.y&&(e.y=n.y);var i=h.M.getAngleByP(n,e,o);i=h.M.toHu(i),isNaN(i)||(this._rotate=i,this.bg.rotation=this._rotate)},end:function(t){this.upPower=180*this._rotate/Math.PI,this.cannotSystemDrag&&this._rotate>0&&this.doEndDragRotate()}},this),this.ticker=h.M.addTicker(this._loop,this,!1),this.addCursor(this.bg.mc.dot,"tuozhuai")}},{key:"doEndDragRotate",value:function(){this.ticker.start()}},{key:"toend",value:function(){this.ticker.stop(),this.bg.rotation=0,this.cannotSystemDrag=!1,this._rotate=0,this._ror=0,this._roi=-1,this.rovo=Math.abs(this.rovo)}},{key:"RallyHammer",value:function(){this._roi=-2,this.rovo=-this.rovo}},{key:"_loop",value:function(){this._ror+=Math.abs(this.rovo),this.bg.rotation-=this.rovo;var t=this.equipmentUtil.getEquipmentArr(["TuningFork","Drum"]),e=null,n=this.bg.toGlobal(new h.Point(0,0)),o=!0,i=!1,r=undefined;try{for(var a,u=t[Symbol.iterator]();!(o=(a=u.next()).done);o=!0){var s=a.value;if(s.dot){var l=this.bg.mc.dot.toGlobal(new h.Point(0,0));l.x-=22;var c=s.dot.getBounds();if(n.x>=c.x){if(c.contains(l.x,l.y)){e=s;break}}}}}catch(f){i=!0,r=f}finally{try{!o&&u["return"]&&u["return"]()}finally{if(i)throw r}}if(e&&this.RallyHammer(),-2==this._roi)return this.toend(),void e.soundStart(!0,this.upPower/90);-1!=this._roi||1.5*this._rotate>this._ror||(this.rovo=-this.rovo,this._ror=0,this._roi=0),0!=this._roi||.75*this._rotate>this._ror||(this.rovo=-this.rovo,this._ror=0,this._roi=1),1!=this._roi||.375*this._rotate>this._ror||(this.rovo=-this.rovo,this._ror=0,this._roi=2),2!=this._roi||.125*this._rotate>this._ror||this.toend()}},{key:"removed",value:function(){this.removedCursor(this.bg.mc.dot),h.M.removeTicker(this.ticker),h.M.removeTouch(this.bg.mc.dot,this._touchID),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(l["default"])},755:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n._isLockMove=!1,n._nnInd=0,n._cBtnNums=0,n}return r(e,t),a(e,[{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.fu.visible=!1,this.hertz=[];var n=0,o=1024;for(n=0;o>n;n++)this.hertz.push(0);for(this.puArr=["4C","4C♯","4D","4E♭","4E","4F","4F♯","4G","4A♭","4A","4B♭","4B","5C","5C♯","5D","5E♭","5E","5F","5F♯","5G","5A♭","5A","5B♭","5B","6C","6C♯"],Beep.isKeyboarding=!1,this.SoundTool.soundEnabled&&(this.beep=new Beep.Instrument,this.beep.buildC()),$(".instrument").remove(),this.heiArr=[],this.baiArr=[],o=24,n=0;o>n;n++){var i=this["ca"+(n+1)];i.ind=n,1===n||3===n||6===n||8===n||10===n||13===n||15===n||18===n||20===n||22===n?this.heiArr.push(i):this.baiArr.push(i)}this.allBtnArr=this.heiArr.concat(this.baiArr),this.curBtn=null,this.curBtnArr=[],this.touchID=s.M.addTouch(this.aphpaMC,{begin:function(e){t.cannotSystemDrag=!0,t.playCur(e)},end:function(e){t._isLockMove||(t.cannotSystemDrag=!1),t.playCur(e,!0)},move:function(e){t.playCur(e)}},this),this.addCursor(this.aphpaMC,"hand")}},{key:"playCur",value:function(t,e){var n=[];if(t.data.originalEvent.targetTouches)for(var o=t.data.originalEvent.targetTouches,i=0;o.length>i;i++){var r=o[i];n.push(s.M.getMouseXY(t),r.identifier)}else e||n.push(s.M.getMouseXY(t));var a=void 0,u=[];for(a=0;this.allBtnArr.length>a;a++)for(var l=this.allBtnArr[a],h=l.getBounds(),c=0;n.length>c;c++){var f=n[c];if(h.contains(f.x,f.y)){u.push(l),n.splice(c,1),c--;break}}for(this._cBtnNums=u.length,a=0;u.length>a;a++){var p=u[a];s.ArrayUtil.arrayContainsValue(this.curBtnArr,p)||(this.curBtnArr.push(p),p.currentFrame=1,1===this.globalConfig.VOLUME&&this.beep&&this.beep.play(this.puArr[p.ind]))}for(a=0;this.curBtnArr.length>a;a++){var d=this.curBtnArr[a];s.ArrayUtil.arrayContainsValue(u,d)||(d.currentFrame=0,this.beep&&this.beep.pause(this.puArr[d.ind]))}this.curBtnArr=s.ArrayUtil.copyArray(u)}},{key:"caBegin",value:function(){this.curBtn.currentFrame=1,1===this.globalConfig.VOLUME&&this.beep&&this.beep.play(this.puArr[this.curBtn.ind])}},{key:"caEnd",value:function(){this.curBtn&&(this.curBtn.currentFrame=0,this.beep&&this.beep.pause(this.puArr[this.curBtn.ind]),this.curBtn=null)}},{key:"removed",value:function(){this.removedCursor(this.aphpaMC),s.M.removeTouch(this.aphpaMC,this.touchID),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getSoundAnalyserArr",value:function(){++this._nnInd>1024&&(this._nnInd=0);var t=this.beep.get_hertz(),e=[],n=void 0;if(0===this._cBtnNums)for(n=0;1024>n;n++)e.push(this.SoundTool.SOUND_DRAW_NUM);else for(n=0;1024>n;n++)e.push(10*Math.sin((10*this._nnInd+n)/1024*t/4)+this.SoundTool.SOUND_DRAW_NUM);return e}},{key:"getConf",value:function(){var t=this,n=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return n.confArr.push({type:this.ComponentProperty.BOOL,name:this.language.getLocaleStr("auxiliaryNotes"),checked:this.fu.visible,"this":this,callBack:function(e){t.fu.visible=e.checked}},{type:this.ComponentProperty.BOOL,name:this.language.getLocaleStr("lockMove"),checked:this._isLockMove,"this":this,callBack:function(e){t._isLockMove=e.checked,t.cannotSystemDrag=t._isLockMove}}),n}},{key:"getData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.fuV=this.fu.visible,t.isLockMove=this._isLockMove,t}},{key:"setData",value:function(t){this.fu.visible=t.fuV,this._isLockMove=t.isLockMove,this.cannotSystemDrag=this._isLockMove,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}}]),e}(h["default"])},756:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(452),l=function(t){return t&&t.__esModule?t:{"default":t}}(s),h=n(0);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.doro=!1,n}return r(e,t),a(e,[{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.var_ticker=h.M.addTicker(this._loop,this)}},{key:"_loop",value:function(){var t=this;if(!this.doro){for(var e=this.equipmentUtil.getEquipmentArr(["TuningFork"]),n=null,o=0,i=this.toGlobalView(new h.Point,this.ball.dot),r=0;e.length>r;r++){var a=e[r],u=this.toGlobalView(new h.Point,a.dot),s=u.x-i.x,l=u.y-i.y;if(s>-80&&35>s&&l>-153&&-27>l&&(o=s>-21?2:1),0!==o){n=a;break}}if(n){var c=n.getVol();if(0!==c){this.doro=!0;var f=1===o?-Math.PI/2:Math.PI/2;f*=c;var p=new TimelineLite;p.append(TweenLite.to(this.ball,.5,{rotation:f,ease:Cubic.easeOut})),p.append(TweenLite.to(this.ball,.5,{rotation:0,ease:Cubic.easeIn,onComplete:function(){t.doro=!1}})),p.play()}}}}},{key:"removed",value:function(){this.var_ticker.stop(),this.var_ticker=null,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(l["default"])},757:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function h(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:h(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(452),l=function(t){return t&&t.__esModule?t:{"default":t}}(s);n(0);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.level=6,n.bindFork=null,n.hasRTween=!1,n}return r(e,t),a(e,[{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.bo.visible=!1,this.bo.play(),this.addOthers()}},{key:"addOthers",value:function(){this.sinkBack=this.dependEquipments[0],this.sinkBack.bindSink=this,this.moveEnd()}},{key:"moveEnd",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.sinkBack&&(this.sinkBack.parent.x=this.parent.x,this.sinkBack.parent.y=this.parent.y),this.freshBindLocation()}},{key:"removed",value:function(){this.bindFork&&(this.bindFork.bindSink=null,this.main.removeEquipment(this.bindFork),this.bindFork=null),this.sinkBack&&(this.sinkBack.bindSink=null,this.main.removeEquipment(this.sinkBack),this.sinkBack=null),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"freshBindLocation",value:function(t){this.bindFork&&this.bindFork.freshBindLocation.call(this.bindFork)}}]),e}(l["default"])},758:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function h(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:h(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(452),l=function(t){return t&&t.__esModule?t:{"default":t}}(s);n(0);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.level=4,n.bindSink=null,n}return r(e,t),a(e,[{key:"moveEnd",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.bindSink&&(this.bindSink.parent.x=this.parent.x,this.bindSink.parent.y=this.parent.y)}},{key:"removed",value:function(){this.bindSink&&(this.bindSink.sinkBack=null,this.main.removeEquipment(this.bindSink)),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(l["default"])},759:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.var_screenWidth=275,n.var_screenHeigth=205,n.var_waveNum0=.5,n.var_waveNum1=.5,n.var_rlRotation=1,n.var_rrRotation=1,n}return r(e,t),a(e,[{key:"draw",value:function(){var t=void 0;if(1===this.nbbtn1.currentFrame&&(t=this.globalConfig.SoundTool.getNeiSoundAnalyserArr()),1===this.nbbtn2.currentFrame&&(t=this.globalConfig.SoundTool.getWaiSoundAnalyserArr()),this.var_waveG.clear(),this.var_waveG.lineStyle(3,16711680),this.var_waveG.moveTo(0,0),!t)return void this.var_waveG.lineTo(this.var_screenWidth+200,0);var e=void 0;for(e=0;t.length>e;e++){var n=t[e];if(n){this.var_waveG.lineTo(e*(.5+2*this.var_waveNum1)*1.5,(130-n)*this.var_waveNum0*10)}}this.var_waveG.lineTo(this.var_screenWidth+200,0)}},{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.var_waveG=new PIXI.Graphics,this.addChild(this.var_waveG),this.var_waveG.x=-300,this.var_waveG.y=-165;var n=new PIXI.Graphics;n.beginFill(16711680,.5),n.drawRect(-290,-260,this.var_screenWidth,this.var_screenHeigth),n.endFill(),this.addChild(n),this.var_waveG.mask=n,this._dind=0,this.ticker=s.M.addTicker(function(){++t._dind>4&&(t._dind=0,t.draw())},this,!0),this.func_addRotateControl();var o=this.nbbtn1.scale.x,i=this.nbbtn1.scale.y;this.btnTouchArr=[];var r=void 0;for(r=0;2>r;r++){var a=this["nbbtn"+(r+1)];this.btnTouchArr.push({btnTouchID:s.M.addTouch(a,{begin:function(t){t.target.scale.x=.9*o,t.target.scale.y=.9*i},end:function(t){t.target.scale.x=o,t.target.scale.y=i},tab:function(t){t.target.currentFrame=0===t.target.currentFrame?1:0,t.target===this.nbbtn2&&this.globalConfig.SoundTool.start_linkAudio(0===t.target.currentFrame?!1:!0)}},this),btn:a}),this.addCursor(a,"hand")}}},{key:"func_addRotateControl",value:function(){this.parent.updateTransform(),this._rot_alphaSP_Arr=[];var t=void 0;for(t=0;2>t;t++){var e=this["alphaSP"+t];e.name="alphaSP"+t,e.curR=0,e.rotateData={pareComp:this,cenP:function(t,e){return function(){return this.toGlobal(t)}.bind(e)}(e,this),rotateHandleFunc:this.func_rotateHandleFunc},this.phy.addRotateTool(e),this._rot_alphaSP_Arr.push(e),this.addCursor(e,"rotatebtn")}}},{key:"func_rotateHandleFunc",value:function(t,e){Math.abs(e)>Math.PI&&(e=0);var n=t.curR+e;if(n<=2*Math.PI&&n>=2*-Math.PI){t.curR=n,t.rotation+=e;var o=(n+2*Math.PI)/(4*Math.PI);"alphaSP0"===t.name?this.var_waveNum0=o:this.var_waveNum1=o}}},{key:"removed",value:function(){for(var t=0;2>t;t++){this.removedCursor(this["nbbtn"+(t+1)])}for(var n=0;2>n;n++){this.removedCursor(this["alphaSP"+n])}for(clearTimeout(this._timeoutID),s.M.removeTicker(this.ticker),this.globalConfig.SoundTool.start_linkAudio(!1);this.btnTouchArr&&this.btnTouchArr.length;){var o=this.btnTouchArr.pop();s.M.removeTouch(o.btn,o.btnTouchID)}for(;this._rot_alphaSP_Arr.length;){this.phy.removeRotateTool(this._rot_alphaSP_Arr.pop())}u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.waveNum0=this.var_waveNum0,t.waveNum1=this.var_waveNum1,t.nbbtnF1=this.nbbtn1.currentFrame,t.nbbtnF2=this.nbbtn2.currentFrame,t}},{key:"setData",value:function(t){this.var_waveNum0=t.waveNum0,this.var_waveNum1=t.waveNum1,this.nbbtn1.currentFrame=t.nbbtnF1,this.nbbtn2.currentFrame=t.nbbtnF2,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}}]),e}(h["default"])},760:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.curyin=null,n.type=2,n.shaking=!1,n.bindSink=null,n._detectRange=1e3,n.var_isSoundFrame=!0,n}return r(e,t),a(e,[{key:"showYinType",value:function(t){switch(this.type=t,this.yina.visible=!1,this.yinb.visible=!1,this.yinc.visible=!1,this.yina.btn.fontColor=0,this.yinb.btn.fontColor=0,this.yinc.btn.fontColor=0,t){case 1:this.curyin=this.yina;break;case 2:this.curyin=this.yinb;break;case 3:this.curyin=this.yinc}this.curyin.visible=!0,this.curyin.btn.fontColor=16777215}},{key:"fun_createTxtBtn",value:function(t,e,n){t["this"]=this,t.w=61,t.h=27,t.color=39423,t.fontSize=19,t.scaleNum=.9;var o=new this.Button(t);return this.add2component(o),o.x=e,o.y=n,o}},{key:"removeTxtBtn",value:function(t){t.destroy.call(t),t=null}},{key:"fun_init_shaking",value:function(t,e,n){this._dotTouchID=s.M.addTouch(this.dot,{begin:function(){this.soundStart(!1),this.isLockShaking=!0},end:function(){this.isLockShaking=!1},tab:function(){this.soundStart(!0)}},this,{time:400})}},{key:"update",value:function(){this.onFrame0()}},{key:"soundStart",value:function(t,e){this.shaking=t,t?this.isLockShaking||(this.playSound(!0),this.var_isSoundFrame=!0,this.curyin.play(),e!==undefined&&this.setVolPosition(e),this.showBo(!0)):(this.playSound(!1),this.curyin.stop(),this.curyin.currentFrame=0,this.showBo(!1))}},{key:"onFrame0",value:function(){this.var_isSoundFrame&&this.sound&&((this.sound.volume-=.003)>0||(this.shaking=!1,this.var_isSoundFrame=!1,this.soundStart(!1))),this.bindSink||this.checkFork()}},{key:"playSound",value:function(t){if(this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null),1===this.globalConfig.VOLUME&&t)switch(this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null),this.type){case 1:this.sound=this.globalConfig.SoundTool.play(this.SoundStr.YIN_CHA0);break;case 2:this.sound=this.globalConfig.SoundTool.play(this.SoundStr.YIN_CHA1);break;case 3:this.sound=this.globalConfig.SoundTool.play(this.SoundStr.YIN_CHA2)}else this.sound&&(this.globalConfig.SoundTool.stopT(this.sound),this.sound=null)}},{key:"checkFork",value:function(){var t=this;if(this.shaking){this.equipmentUtil.getEquipmentArr(["TuningFork"]).forEach(function(e){var n=s.M.getPointLen(e.parent,t.parent);t._detectRange>n&&!e.bindSink&&t.UID!==e.UID&&t.getSoundPosition()-e.getSoundPosition()>10&&t.type===e.type&&e.soundStart(!0,t.getVol()*n/t._detectRange)})}}},{key:"getVol",value:function(){return this.sound?this.sound.volume:0}},{key:"getSoundPosition",value:function(){return this.sound?this.sound.position:0}},{key:"setVolPosition",value:function(t){this.sound&&(this.sound.volume=t,this.sound.duration=5549*t)}},{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.add2component(this.bg),this.add2component(this.yina),this.add2component(this.yinb),this.add2component(this.yinc),this.add2component(this.dot);this.yinc.btn=this.fun_createTxtBtn({type:3,text:"400HZ",tab:this.btnTanHandle},-100,0),this.yinb.btn=this.fun_createTxtBtn({type:2,text:"440HZ",tab:this.btnTanHandle},-30,0),this.yina.btn=this.fun_createTxtBtn({type:1,text:"480HZ",tab:this.btnTanHandle},40,0),this.fun_init_shaking(),this.showYinType(this.type),this.addCursor(this.yina.btn,"hand"),this.addCursor(this.yinb.btn,"hand"),this.addCursor(this.yinc.btn,"hand"),this.addCursor(this.dot,"hand")}},{key:"btnTanHandle",value:function(t){this.soundStart(!1),this.showYinType(t.target.type)}},{key:"beginEnd",value:function(t){this.bindSink&&(this.showBo(!1),this.bindSink.bindFork=null,this.bindSink=null)}},{key:"endEnd",value:function(t){if(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"endEnd",this).call(this,t),!this.bindSink){var n=this.equipmentUtil.getEquipmentArr(["Sink"]),o=!0,i=!1,r=undefined;try{for(var a,l=n[Symbol.iterator]();!(o=(a=l.next()).done);o=!0){var h=a.value;if(!h.bindFork&&this.UID!==h.UID){if(200>s.M.getPointLen(h.parent,this.parent)){this._toBindSink(h),this.fun_openTween(!0);break}}}}catch(c){i=!0,r=c}finally{try{!o&&l["return"]&&l["return"]()}finally{if(i)throw r}}}this.bindSink||this.fun_openTween(!1)}},{key:"_toBindSink",value:function(t){this.bindSink=t,this.bindSink.bindFork=this}},{key:"fun_openTween",value:function(t){t?this.hasRTween?this.freshBindLocation():(this._componentBoxTween=TweenMax.to(this.componentBox,.5,{rotation:s.M.toHu(-130)}),this.freshBindLocation(!0)):this._componentBoxTween=TweenMax.to(this.componentBox,.5,{rotation:0})}},{key:"freshBindLocation",value:function(t){if(this.bindSink){this.parent.parent.updateTransform();var e=this.parent.parent.toLocal(new s.Point(100,-150),this.bindSink);if(t){var n=this;this._parentTween=TweenMax.to(this.parent,.5,{x:e.x,y:e.y,onComplete:function(){n.showBo(!0)}})}else s.M.setSPPoint(this.parent,e)}}},{key:"showBo",value:function(t){this.bindSink&&(this.bindSink.bo.visible=!(!t||!this.shaking))}},{key:"getSound",value:function(t){return this.sound}},{key:"getData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.type=this.type,this.bindSink&&(t.bindSink_UID=this.bindSink.UID),t}},{key:"setData",value:function(t){this.type=t.type,this.showYinType(this.type),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}},{key:"setDataOver",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setDataOver",this).call(this,t),this.setData_obj&&this.setData_obj.bindSink_UID&&(this.bindSink=this.equipmentUtil.getEquiFromUID(this.setData_obj.bindSink_UID),this._toBindSink(this.bindSink))}},{key:"removed",value:function(){this.removedCursor(this.yina.btn),this.removedCursor(this.yinb.btn),this.removedCursor(this.yinc.btn),this.removedCursor(this.dot),this.removeTxtBtn(this.yina.btn),this.removeTxtBtn(this.yinb.btn),this.removeTxtBtn(this.yinc.btn),s.M.killTweenMax(this._componentBoxTween),s.M.killTweenMax(this._parentTween),this.curyin=null,s.M.removeTouch(this.dot,this._dotTouchID),this.bindSink&&(this.bindSink.bindFork=null,this.main.removeEquipment(this.bindSink),this.bindSink=null),this.playSound(!1),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}}]),e}(h["default"])},761:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(452),l=function(t){return t&&t.__esModule?t:{"default":t}}(s),h=n(0);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.bindGap=null,n.bindAlarm=null,n.var_qiType=0,n.var_tempNum=0,n.var_allNum=100,n}return r(e,t),a(e,[{key:"added",value:function(){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this);var t=this;this.var_ticker=new PIXI.ticker.Ticker,this.var_ticker.add(function(e){t.func_loop.call(t)}),this._touchID=h.M.addTouch(this.btn,{tab:function(t){this.bindGap&&(0==this.btn.currentFrame?(this.btn.currentFrame=1,this.var_qiType=1,this.var_ticker.start()):(this.btn.currentFrame=0,this.var_qiType=2,this.var_ticker.start()))}},this),this.addOthers(),this.addCursor(this.btn,"hand")}},{key:"addOthers",value:function(){this.bindGap=this.dependEquipments[0],this.bindGap.bindV=this}},{key:"isKong",value:function(){return 1==this.btn.currentFrame}},{key:"func_loop",value:function(){if(++this.var_tempNum>=2){this.var_tempNum=0;var t=this.guan.currentFrame;1==this.var_qiType?(t++,this.guan.totalFrames>t||(t=0)):2==this.var_qiType&&0>--t&&(t=this.guan.totalFrames),this.guan.currentFrame=t;var e=!1;1==this.var_qiType?0==this.var_allNum?0==this.guan.currentFrame&&(e=!0,this.bindAlarm&&this.bindAlarm.freshSound(0)):(this.var_allNum--,this.bindAlarm&&this.bindAlarm.freshSound(this.var_allNum/100)):100==this.var_allNum?0==this.guan.currentFrame&&(e=!0,this.bindAlarm&&this.bindAlarm.freshSound(1)):(this.var_allNum++,this.bindAlarm&&this.bindAlarm.freshSound(this.var_allNum/100)),e&&(this.var_ticker.stop(),this.var_qiType=0)}}},{key:"removed",value:function(){this.removedCursor(this.btn),h.M.removeTouch(this.btn,this._touchID),this.var_ticker&&(this.var_ticker.stop(),this.var_ticker=null),this.bindGap&&(this.bindGap.bindV=null,this.main.removeEquipment(this.bindGap)),this.bindAlarm&&(this.bindAlarm.bindV=null,this.main.removeEquipment(this.bindAlarm)),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"moveEnd",value:function(t){u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.freshBindLocation()}},{key:"freshBindLocation",value:function(t){this.bindGap&&this.bindGap.freshBindLocation.call(this.bindGap),this.bindAlarm&&this.bindAlarm.freshBindLocation.call(this.bindAlarm)}},{key:"bindHandle",value:function(t){this.bindAlarm&&(this.bindAlarm.maxVo=this.bindGap?.5:1,this.bindAlarm.freshSound(this.bindAlarm.volume))}}]),e}(l["default"])},762:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(452),l=function(t){return t&&t.__esModule?t:{"default":t}}(s),h=n(0);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.level=7,n.canShowDragRect=!1,n.bindV=null,n}return r(e,t),a(e,[{key:"removed",value:function(){this.bindV&&(this.bindV.bindAlarm&&(this.main.removeEquipment(this.bindV.bindAlarm),this.bindV.bindAlarm=null),this.bindV.bindGap=null,this.main.removeEquipment(this.bindV)),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"beginEnd",value:function(t){this.bindV&&!this.bindV.isKong()&&(this.bindV.allNum=100,this.bindV.bindGap=null,this.bindV.bindHandle.call(this.bindV),this.bindV=null)}},{key:"endEnd",value:function(t){if(!this.bindV){var e=this.getChildByClassInRadius(this,"Vacuumglass",200,new h.Point(0,-180)),n=!0,o=!1,i=undefined;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var u=r.value;if(!u.bindGap){this.bindV=u,this.bindV.bindGap=this,this.freshBindLocation(),this.bindV.bindHandle.call(this.bindV);break}}}catch(s){o=!0,i=s}finally{try{!n&&a["return"]&&a["return"]()}finally{if(o)throw i}}}}},{key:"moveEnd",value:function(t){if(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"moveEnd",this).call(this,t),this.bindV&&this.bindV.isKong()){this.bindV.parent.parent.updateTransform();var n=this.bindV.parent.parent.toLocal(new h.Point(0,222),this);if(h.M.setSPPoint(this.bindV.parent,n),this.bindV.bindAlarm){this.bindV.bindAlarm.parent.parent.updateTransform();var o=this.bindV.bindAlarm.parent.parent.toLocal(new h.Point(0,72),this);h.M.setSPPoint(this.bindV.bindAlarm.parent,o)}}}},{key:"freshBindLocation",value:function(t){if(this.bindV){this.parent.parent.updateTransform();var e=this.parent.parent.toLocal(new h.Point(0,-222),this.bindV);h.M.setSPPoint(this.parent,e)}}}]),e}(l["default"])},763:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.var_soundArr=[],n}return r(e,t),a(e,[{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.var_hertz=[];var n=void 0,o=1024;for(n=0;o>n;n++)this.var_hertz.push(0);for(o=8,this.var_curInd=0,this.touchArr=[],n=0;8>n;n++){var i=this.bg["bb"+(n+1)];i.id=n;this.touchArr.push({touchID:s.M.addTouch(i,{begin:function(e){if(1==t.globalConfig.VOLUME){var n=e.target;t.var_curPing=n,t.var_curInd=n.id,t.var_soundArr[n.id]=t.globalConfig.SoundTool.play(t.SoundStr["BOTTLE"+(n.id+1)])}},end:function(e){t.var_curPing=null}},this),ping:i})}this.addCursor(this,"hand")}},{key:"getData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.isLockMove=this._isLockMove,t}},{key:"setData",value:function(t){this._isLockMove=t.isLockMove,this.cannotSystemDrag=this._isLockMove,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}},{key:"removed",value:function(){for(this.removedCursor(this);this.touchArr.length;){var t=this.touchArr.pop();s.M.removeTouch(t.ping,t.touchID)}this.touchArr=null,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getSound",value:function(){return this.var_soundArr[this.var_curInd]}},{key:"getConf",value:function(){var t=this,n=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getConf",this).call(this);return n.confArr.push({type:this.ComponentProperty.BOOL,name:this.language.getLocaleStr("lockMove"),checked:this._isLockMove,"this":this,callBack:function(e){t._isLockMove=e.checked,t.cannotSystemDrag=t._isLockMove}}),n}}]),e}(h["default"])},764:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var a=function(){function t(t,e){for(var n=0;e.length>n;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function c(t,e,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,e);if(o===undefined){var i=Object.getPrototypeOf(t);return null===i?undefined:c(i,e,n)}if("value"in o)return o.value;var r=o.get;return r===undefined?undefined:r.call(n)},s=n(0),l=n(452),h=function(t){return t&&t.__esModule?t:{"default":t}}(l);e["default"]=function(t){function e(t){o(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.var_type=0,n}return r(e,t),a(e,[{key:"added",value:function(){var t=this;u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"added",this).call(this),this.ju.getMScale=function(){return t.main.view.scale},this._dragID=s.M.addDrag(this.ju,new s.Rectangle(-8,this.ju.y,170,0),{begin:function(e){t.cannotSystemDrag=!0,t.tiptxt.visible=!1,0!=t.var_type&&t.stopJu()},end:function(e){t.cannotSystemDrag=!1,t.ju.x=20>t.ju.x?-8:t.ju.x>150?162:81},tab:function(e){t.var_type=-8==t.ju.x?1:81==t.ju.x?2:3}},this,{time:200,dis:10}),this.var_cInd=0,this.frames=[{0:1,1:2,2:0},{0:3,3:4,4:0},{0:5,5:6,6:0}],this.var_ticker=s.M.addTicker(function(){if(0!=t.var_type&&++t.var_cInd>1){t.var_cInd=0;var e=void 0;1==t.var_type?(e=t.frames[0],t.playSound(t.SoundStr.JU1)):2==t.var_type?(e=t.frames[1],t.playSound(t.SoundStr.JU2)):(e=t.frames[2],t.playSound(t.SoundStr.JU3)),t.ju.currentFrame=e[t.ju.currentFrame]||0}},this),this.addCursor(this.ju,"hand")}},{key:"playSound",value:function(t){var e=this;this.var_sound||(1==this.globalConfig.VOLUME?(this.soundInterval&&(clearTimeout(this.soundInterval),this.soundInterval=0),this.var_sound=this.globalConfig.SoundTool.play(t,0,function(){e.stopJu()},null,this)):this.soundInterval||(this.soundInterval=setTimeout(function(){e.stopJu(),e.soundInterval=0},4e3)))}},{key:"stopJu",value:function(){this.var_type=0,this.var_cInd=0,this.var_dInd=0,this.ju.currentFrame=0,this.var_sound&&(this.globalConfig.SoundTool.stopT(this.var_sound),this.var_sound=null)}},{key:"removed",value:function(){this.removedCursor(this.ju),this.stopJu(),s.M.removeDrag(this.ju,this._dragID),s.M.removeTicker(this.var_ticker),u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removed",this).call(this)}},{key:"getSound",value:function(t){return this.var_sound}},{key:"getData",value:function(){var t=u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"getData",this).call(this);return t.type=this.var_type,t.juX=this.ju.x,t}},{key:"setData",value:function(t){this.var_type=t.type,this.ju.x=t.juX,u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setData",this).call(this,t)}},{key:"hideTips",value:function(){this.tiptxt.visible=!1}}]),e}(h["default"])}});